<div class="pt-16 pb-8" data-controller="tabs">
  <div class="flex sm:flex-row justify-center tabs">
    <a class="block tab tab-lg tab-bordered tab-active"  data-tabs-target="menu" data-action="tabs#menuClick">贈ったメッセージ</a>
    <a class="block tab tab-lg tab-bordered not-active" data-tabs-target="menu" data-action="tabs#menuClick">貰ったメッセージ</a>
  </div>
  <div class="flex flex-col-reverse w-80 m-auto pt-6" data-tabs-target="content">
    <% if @sent_messages.present? %>
      <% @sent_messages.each do |message| %>
        <div class="card card-compact w-80 bg-base-200 rounded-3xl text-center shadow-xl my-6 p-2 m-auto">
          <%= image_tag message.message_image.url, class:"rounded-3xl m-auto p-2", size: '300x165' %>
          <div class="card-body">
            <p class="divider text-primary-focus text-xl">Dear</p>
            <%= image_tag message.wish_list.user.avatar.url, class:"rounded-full m-auto", size: '50x50' %>
            <p class="font-semibold text-xl"><%= message.receiver %></p>
            <p class="divider text-primary-focus text-xl">Present</p>
            <p class="font-semibold"><%= message.select_item %></p>
            <div class="flex justify-evenly pt-4">
              <% if current_user.own?(message) %>
                <%= button_to t('defaults.item.delete'), message_path(message), class: "btn btn-accent", method: :delete, data: { confirm: t('defaults.message.delete_confirm') } %>
              <% end %>
            </div>
          </div>
        </div>
      <% end %>
    <% else %>
      <div class='text-center mt-8'>
        <%= t('defaults.no_message') %>
      </div>
    <% end%>
  </div>
  <div class="flex flex-col-reverse w-80 m-auto pt-6 hidden" data-tabs-target="content">
    <% if @received_messages.present? %>
      <% @received_messages.each do |message| %>
        <div class="card card-compact w-80 bg-base-200 rounded-3xl text-center shadow-xl my-6 p-2 m-auto">
          <%= image_tag message.message_image.url, class:"rounded-3xl m-auto p-2", size: '300x165' %>
          <div class="card-body">
          <p class="divider text-primary-focus text-xl">From</p>
          <%= image_tag message.user.avatar.url, class:"rounded-full m-auto", size: '50x50' %>
          <p class="font-semibold text-xl"><%= message.sender %></p>
          <p class="divider text-primary-focus text-xl">Present</p>
          <p class="font-semibold"><%= message.select_item %></p>
        </div>
        </div>
      <% end %>
    <% else %>
      <div class='text-center mt-8'>
        <%= t('defaults.no_message') %>
      </div>
    <% end%>
  </div>
</div>
